<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DUToolkit">
<title>Raincloud plots â€¢ DUToolkit</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Raincloud plots">
<meta property="og:description" content="DUToolkit">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DUToolkit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/DUToolkit.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Calculating_Risk.html">Calculating Risk</a>
    <a class="dropdown-item" href="../articles/Fan_Plots.html">Time-outcome fan plots</a>
    <a class="dropdown-item" href="../articles/density_plots.html">Probability density plots with risk shading</a>
    <a class="dropdown-item" href="../articles/rain_plot.html">Raincloud plots</a>
    <a class="dropdown-item" href="../articles/temporal_plot.html">Temporal probability density plots</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Raincloud plots</h1>
            
      
      
      <div class="d-none name"><code>rain_plot.Rmd</code></div>
    </div>

    
    
<p>The probability densities of the highest (or lowest if the threshold
is a minimum) projected outcome across simulation runs are plotted for
each policy alternative alongside corresponding box plots, which
indicate the mean and 50th percentile range. These plots are presented
collectively on a single graph to facilitate visual comparison of the
policy alternatives. The decision threshold is shown directly on the
plot as a vertical line to provide a clear reference point for
interpreting the outputs.</p>
<p>We use the <code><a href="../reference/plot_raincloud.html">plot_raincloud()</a></code> function to generate the
raincloud plots.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define inputs</span></span>
<span><span class="va">tmin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">psa_data</span><span class="op">$</span><span class="va">Intervention_1</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="co"># minimum simulation time</span></span>
<span><span class="va">tmax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">psa_data</span><span class="op">$</span><span class="va">Intervention_1</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="co"># maximum simulation time</span></span>
<span><span class="va">Dt_max</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># indicates the threshold values are maximums</span></span>
<span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fl">750</span> <span class="co"># single threshold value for the peak</span></span>
<span></span>
<span><span class="co">## find peak values</span></span>
<span><span class="va">peak_values_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_max_min_values.html">get_max_min_values</a></span><span class="op">(</span><span class="va">psa_data</span>, <span class="va">tmin</span>, <span class="va">tmax</span>, <span class="va">Dt_max</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate raincloud plot</span></span>
<span><span class="va">raincloud_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_raincloud.html">plot_raincloud</a></span><span class="op">(</span><span class="va">peak_values_list</span>, <span class="va">D</span><span class="op">)</span></span>
<span></span>
<span><span class="va">raincloud_plot</span></span></code></pre></div>
<p><img src="rain_plot_files/figure-html/calc_peak-1.png" width="672"></p>
<div class="section level3">
<h3 id="rain-outputs">Sharing outputs<a class="anchor" aria-label="anchor" href="#rain-outputs"></a>
</h3>
<p>The raincloud plot can supplement the probability density plots by
providing an intuitive and direct visual comparison of the severity of
the situation at its expected peak for each policy alternative on a
single plot.</p>
<p>We also recommend the following standard description for presenting
the raincloud plots to decision-makers. We provide the standard
description in paragraph and bullet point form for ease of use.</p>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="standard-description">Standard description<a class="anchor" aria-label="anchor" href="#standard-description"></a>
</h4>
<div class="rmdnote">
<p>This graph shows the distribution of the <u><em>highest</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;lowest&lt;/em&gt;&lt;/p&gt;"><sup>1</sup></a> forecasted
<u><em>outcome</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;insert outcome description (ex. hospital demand)&lt;/p&gt;"><sup>2</sup></a> (i.e., the <u><em>peak</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;low
point&lt;/em&gt;&lt;/p&gt;"><sup>3</sup></a>) for each
scenario alongside a corresponding box plot which indicates the mean and
50th percentile range. All interventions are displayed on a single graph
to allow for visual comparison.</p>
<p>The red dashed line indicates the policy target. The more
distribution area located to the <u><em>right</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;left&lt;/em&gt;&lt;/p&gt;"><sup>4</sup></a> of the policy target
line, the greater the probability that the <u><em>outcome</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;insert outcome description (ex. hospital demand)&lt;/p&gt;"><sup>5</sup></a> at its
forecasted <u><em>peak</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;low
point&lt;/em&gt;&lt;/p&gt;"><sup>6</sup></a> will <u><em>surpass</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;fall
below&lt;/em&gt;&lt;/p&gt;"><sup>7</sup></a> the policy target.</p>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="standard-description-bullet-points">Standard description bullet points<a class="anchor" aria-label="anchor" href="#standard-description-bullet-points"></a>
</h4>
<div class="rmdnote">
<p>This graph shows:</p>
<ul>
<li><p>The distribution of the <u><em>highest</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;lowest&lt;/em&gt;&lt;/p&gt;"><sup>8</sup></a> forecasted
<u><em>outcome</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;insert outcome description (ex. hospital demand)&lt;/p&gt;"><sup>9</sup></a> (i.e., the <u><em>peak</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;low
point&lt;/em&gt;&lt;/p&gt;"><sup>10</sup></a>) for
each scenario on a single graph to allow for visual comparison.</p></li>
<li><p>A corresponding box plot for each scenario which indicates the
mean and 50th percentile range.</p></li>
<li><p>The red dashed line indicates the policy target.</p></li>
<li><p>The more distribution area located to the <u><em>right</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;left&lt;/em&gt;&lt;/p&gt;"><sup>11</sup></a> of the
policy target line, the greater the probability that the
<u><em>outcome</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;insert outcome description (ex. hospital demand)&lt;/p&gt;"><sup>12</sup></a> at its forecasted <u><em>peak</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;low
point&lt;/em&gt;&lt;/p&gt;"><sup>13</sup></a> will
<u><em>surpass</em></u><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;if threshold is a minimum replace with &lt;em&gt;fall
below&lt;/em&gt;&lt;/p&gt;"><sup>14</sup></a> the policy target.</p></li>
</ul>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Megan Wiggins, Marie Betsy Varughese, Ellen Rafferty, Sasha van Katwyk, Christopher McCabe, Jeff Round, Erin Kirwin, Institute of Health Economics, Canadian Network for Modelling Infectious Diseases .</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
